<!DOCTYPE html>
<html>
<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<script src="angular-resource-1.0.0rc6.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular-sanitize.js"></script>

<head>
    <title>Shots</title>
</head>

<body>

    <h1>Shots</h1>

    <div ng-app="myApp" ng-controller="personCtrl">

        <ul>
            <li ng-repeat="x in names">
                {{ x.title }}
                <br>
                <a ng-href="shotDescription.html#/id/{{ x.id }}">
                    <img ng-src="{{ x.images.normal }}"/>
                </a>
                <br>
                <br>
            </li>
        </ul>

    </div>

    <script>
        var token = "88b060a97d22603df099f51011f2450cc991c98afe1ebd83ba4ac7f1f6f5c857"
        var app = angular.module('myApp', []);
        var list = [];
        app.controller('personCtrl', function($scope, $http, $timeout) {
            $timeout(executaAposRenderizar, 0);
            function executaAposRenderizar() {
                var promise = $http.get("https://api.dribbble.com/v1/shots?sort=viewsuser&access_token="+token);
                promise.success(function (response) {
                    $scope.names = response;
                });
            }
        });
    </script>

</body>
</html>
